<!doctype html>
<html lang="{{ page.lang | default: site.lang | default: 'en' }}">

  {% include head.html %}

  <body>
    <div class="container pure-g">
      {%- assign cover_bg_color = site.cover_bg_color | default: 'rgb(40, 73, 77)' -%}
      {%- assign cover_color = site.cover_color | default: 'rgb(255, 255, 255)' -%}
      {%- assign cover_image = site.cover_image -%}
      {%- if page.cover_bg_color -%}{% assign cover_bg_color = page.cover_bg_color %}{% endif %}
      {%- if page.cover_color -%}{% assign cover_color = page.cover_color %}{% endif %}
      {%- if page.cover_image -%}{% assign cover_image = page.cover_image %}{% endif %}

      <div class="sidebar-left pure-u-1 pure-u-md-1-4"
           style="background-color: {{ cover_bg_color }}; color: {{ cover_color }}; {% if cover_image %}background-image: url({{ cover_image | relative_url }});{% endif %}">
        {% include sidebar-left.html %}
      </div>

      <div class="content pure-u-1 pure-u-md-2-3">
        <header class="page-header">
          <!-- Header bar with responsive menu -->
          <div class="home-header-bar">
            <!-- Button: shown on mobile only via CSS -->
            <button type="button" class="menu-toggle" id="menu-toggle">â˜° Menu</button>

            {% if site.data.archive %}
            <ul class="home-header-menu pure-menu-list" id="menu">
              {% for item in site.data.archive %}
                <li class="pure-menu-item">
                  <a href="{{ item.url | relative_url }}"
                     class="pure-menu-link {% if page.url == item.url %}current-item{% endif %}">
                    {{ item.title }}
                  </a>
                </li>
              {% endfor %}
            </ul>
            {% endif %}
          </div>

          <h1>{{ page.title }}</h1>
        </header>

        <!-- No research-content block here -->

        <!-- ========================= PDF VIEWER ========================== -->
        <embed
          src="https://yucian1997.github.io/yuciantsai/assets/yucian-tsai-cv.pdf"
          type="application/pdf"
          class="pdf-viewer viewer-full"
          aria-label="Yu-Cian's CV PDF"
        />

        <div class="pdf-fallback">
          <p>
            Unable to display the PDF in your browser.
            You can
            <a href="https://yucian1997.github.io/yuciantsai/assets/yucian-tsai-cv.pdf"
               target="_blank" rel="noopener noreferrer">open the CV in a new tab</a>
            or
            <a href="https://yucian1997.github.io/yuciantsai/assets/yucian-tsai-cv.pdf"
               download>download it</a>.
          </p>
        </div>

      </div> <!-- /content -->
    </div> <!-- /container -->

    <!-- Optional FontAwesome (keep if you use icons elsewhere) -->
    <script async src="https://use.fontawesome.com/releases/v5.0.12/js/all.js"></script>

    {% include scroll.html %}

    {% if page.math %}
      {% include mathjax.html %}
    {% endif %}

    {% if jekyll.environment == 'production' and site.google_analytics %}
      {% include google-analytics.html %}
    {% endif %}

    <!-- Back to Top -->
    <a href="#" onclick="backToTop()" class="back-to-top">Top &#8648;</a>

    <script>
      function backToTop() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }

      // Responsive menu toggle for mobile
      document.addEventListener('DOMContentLoaded', function() {
        const menuToggle = document.getElementById('menu-toggle');
        const menu = document.getElementById('menu');

        if (!menuToggle || !menu) return;

        menuToggle.addEventListener('click', function(event) {
          event.preventDefault();
          menu.classList.toggle('open');
        });
      });
    </script>

    <!-- Styles -->
    <style>
      /* Back-to-top button */
      .back-to-top {
        position: fixed;
        right: 20px;
        bottom: 20px;
        background: #ffffff;
        border: 1px solid #007bff;
        padding: 8px 12px;
        border-radius: 4px;
        color: #007bff;
        font-size: 14px;
        text-decoration: none;
        z-index: 1000;
      }
      .back-to-top:hover {
        background: #007bff;
        color: #ffffff;
      }

      /* PDF viewer */
      .pdf-viewer.viewer-full {
        width: 100%;
        height: 90vh;
        border: none;
        margin-top: 20px;
      }

      .pdf-fallback {
        margin-top: 10px;
        font-size: 14px;
      }

      .awards img {
        margin-top: 10px;
      }

      /* Header bar layout */
      .home-header-bar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 1rem;
      }

      /* Menu list defaults (desktop) */
      .home-header-menu {
        display: flex;
        gap: 1rem;
        list-style: none;
        margin: 0;
        padding: 0;
      }

      .home-header-menu li {
        margin: 0;
      }

      .home-header-menu .pure-menu-link {
        text-decoration: none;
      }

      .home-header-menu .current-item {
        font-weight: bold;
        text-decoration: underline;
      }

      /* Menu toggle button (desktop: hidden by default) */
      .menu-toggle {
        display: none;
        font-size: 16px;
        padding: 4px 8px;
        border: 1px solid #ccc;
        background: #fff;
        cursor: pointer;
        border-radius: 4px;
      }

      /* MOBILE: show button, hide menu by default */
      @media (max-width: 768px) {
        .menu-toggle {
          display: inline-block;
        }

        .home-header-bar {
          width: 100%;
          height: 100%;
        
          -webkit-box-shadow: 0 1em 1em -.9em var(--border-color);
             -moz-box-shadow: 0 1em 1em -.9em var(--border-color);
                  box-shadow: 0 1em 1em -.9em var(--border-color);
        }

        .home-header-menu {
          display: none;
          flex-direction: column;
          gap: 0.5rem;
          margin-top: 0.75rem;
        }

        .home-header-menu.open {
          display: flex;
        }
      }
    </style>

  </body>
</html>
